@model IEnumerable<CI.Entities.Models.Mission>


<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login</title>
    <link rel="stylesheet" href="~/css/platform.css">
    <link rel="stylesheet" href="CSS/bootstrap.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>

<body>

    <form asp-controller="CI" asp-action="StoryListingPage">

        <div class="container">
            <nav class="navbar" id="List">
                <div class="container-fluid">
                    <a class="navbar-brand" href="#">
                        <img src=".\..\images\Assets\user-img.png" class="rounded-circle" style="width:50px;height:50px">
                    </a>
                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                            data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                            aria-expanded="false" aria-label="Toggle navigation">
                        <img src=".\..\images\Assets\list.png">
                    </button>
                    <div class="collapse navbar-collapse" id="navbarSupportedContent">

                        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                            <li class="nav-item">
                                <a class="nav-link" href="#">Story</a>
                            </li>
                            <li class="nav-item">
                                <a href="#" class="dropdown" data-bs-toggle="dropdown"
                                   style="text-decoration: none; color: #333333;">
                                    Policy
                                    <img src=".\..\images\Assets\drop-down.png">
                                </a>
                                <ul class="dropdown-menu">
                                    <li><a class="dropdown-item" href="#">1</a></li>
                                    <li><a class="dropdown-item" href="#">2</a></li>
                                    <li><a class="dropdown-item" href="#">3</a></li>
                                </ul>

                            </li>
                            <li class="nav-item">
                                <a href="#" class="dropdown" data-bs-toggle="dropdown"
                                   style="text-decoration: none; color: #333333;">
                                    Evan Donohue
                                    <img src=".\..\images\Assets\drop-down.png">
                                </a>
                                <ul class="dropdown-menu">
                                    <li><a class="dropdown-item" href="#">1</a></li>
                                    <li><a class="dropdown-item" href="#">2</a></li>
                                    <li><a class="dropdown-item" href="#">3</a></li>
                                </ul>

                            </li>

                        </ul>
                    </div>
                </div>
            </nav>
            <nav class="navbar nav" id="Main">
                <div class="col-lg-2 pt-3">
                    <p class="text-end">Stories</p>

                </div>
                <div class="dropdown col-lg-6 ">
                    Policy
                    <button class=" dropdown" type="button" data-bs-toggle="dropdown"
                            style="border:none; background-color:white;">
                        <img src=".\..\images\Assets\drop-down.png">
                    </button>
                    <ul class="dropdown-menu">
                        <li><a class="dropdown-item" href="#">1</a></li>
                        <li><a class="dropdown-item" href="#">2</a></li>
                        <li><a class="dropdown-item" href="#">3</a></li>
                    </ul>

                </div>
                <div class="dropdown col-lg-3 text-end">
                    <div>
                        @if (User.Identity.IsAuthenticated)
                        {

                            <a class="nav-link profile-link-part" href="#" id="navbarScrollingDropdown" role="button" data-bs-toggle="dropdown"
                           aria-expanded="false">
                                <img src="/Assets/user-img.png" class="rounded-circle" height="35" width="35" alt="Profile pic"
                                 loading="lazy" />
                                <span class="px-2"style="color:gray;">Evan Donohue</span>
                                <img src="/Assets/drop-down.png" alt="">
                            </a>
                            <ul class="dropdown-menu" aria-labelledby="navbarScrollingDropdown" style="left:auto;top:80%; z-index:1050;">
                                <li><a class="dropdown-item btn" href="#">Dashboard</a></li>
                                <li><a class="dropdown-item btn" href="#">My Account</a></li>
                                <li><a class="dropdown-item btn" href="#">Help Center</a></li>
                                <li><a class="dropdown-item btn" asp-controller="CI" asp-action="Logout">Logout</a></li>
                            </ul>
                        }
                        else
                        {
                            <ul class="d-flex text-decoration-none" style="list-style:none">
                                <li><a class="dropdown-item btn" asp-controller="CI" asp-action="Login">Login</a></li>
                                <li><a class="dropdown-item btn" asp-controller="CI" asp-action="Registration">Register</a></li>
                            </ul>
                        }

                    </div>
                </div>
            </nav>
        </div>

        <div class="container-fluid">
            <div class="row border-top  filters-section d-flex align-items-center flex-wrap justify-content-center">
                <div class="col-lg-2">
                </div>
                <div class="col-lg-4 col-md-12 col-sm-12 mt-2 border-end justify-content-center">
                    <div>
                        <a href="#" style="text-decoration: none;color:gray;  background-color: rgb(245, 244, 244);
                        ">
                            <img src=".\..\images\Assets\search.png"><input class="ms-2 me-2 border-0 bg-light" type="search" placeholder="Search Mission..."
                                                                            style="border:none;"aria-label="Search" id="search-field">
                        </a>
                    </div>
                </div>

                <div class="col-lg-1 col-md-3 col-sm-6  border-end border-start border-top country">
                    <div class="dropdown">
                        <a class="btn " href="#" role="button" id="dropdownMenuLink" data-bs-toggle="dropdown"
                           aria-haspopup="true" aria-expanded="false">
                            Country &emsp;&ensp;<img src=".\..\images\Assets\drop-down.png">
                        </a>

                        <div class="dropdown-menu scrollable-menu" aria-labelledby="dropdownMenuLink">
                            @foreach (var item in ViewBag.Countries)
                            {
                                <li class="form-check ms-2">
                                    <input class="form-check-input checkbox" type="checkbox" value="@item.Name" id="flexCheckDefault">
                                    <label class="form-check-label" for="flexCheckDefault">
                                        @item.Name
                                    </label>
                                </li>
                            }

                        </div>

                    </div>
                </div>
                <div class="col-lg-1 col-md-3 col-sm-6  border-end border-start border-top country">
                    <div class="dropdown">
                        <a class="btn " href="#" role="button" id="dropdownMenuLink" data-bs-toggle="dropdown"
                           aria-haspopup="true" aria-expanded="false">
                            City &emsp;&ensp;<img src=".\..\images\Assets\drop-down.png">
                        </a>

                        <div class="dropdown-menu scrollable-menu" aria-labelledby="dropdownMenuLink">

                            @foreach (var item in ViewBag.cities)
                            {
                                <li class="form-check ms-2">
                                    <input class="form-check-input checkbox" type="checkbox" value="@item.Name" id="flexCheckDefault">
                                    <label class="form-check-label" for="flexCheckDefault">
                                        @item.Name
                                    </label>
                                </li>
                            }
                        </div>
                    </div>
                </div>
                <div class="col-lg-1 col-md-3 col-sm-6  border-end border-start border-top country">
                    <div class="dropdown">
                        <a class="btn " href="#" role="button" id="dropdownMenuLink" data-bs-toggle="dropdown"
                           aria-haspopup="true" aria-expanded="false">
                            Theme &emsp;&ensp;<img src=".\..\images\Assets\drop-down.png">
                        </a>

                        <div class="dropdown-menu scrollable-menu" aria-labelledby="dropdownMenuLink">
                            </label>
                            <input class="form-check-input ms-1 checkbox" type="checkbox" value="Theme1" id="flexCheckDefault">
                            <label class="form-check-label " for="flexCheckDefault">
                                Theme1
                            </label><br><input class="form-check-input ms-1 ms-1 checkbox" type="checkbox" value="Theme2"
                                               id="flexCheckDefault">
                            <label class="form-check-label " for="flexCheckDefault">
                                Theme2
                            </label><br><input class="form-check-input ms-1 checkbox" type="checkbox" value="Theme3" id="flexCheckDefault">
                            <label class="form-check-label" for="flexCheckDefault">
                                Theme3
                            </label><br><input class="form-check-input ms-1 checkbox" type="checkbox" value="Theme4" id="flexCheckDefault">
                            <label class="form-check-label" for="flexCheckDefault">
                                Theme4
                            </label><br><input class="form-check-input ms-1 checkbox" type="checkbox" value="Theme5" id="flexCheckDefault">
                            <label class="form-check-label" for="flexCheckDefault">
                                Theme5
                            </label><br><input class="form-check-input ms-1 checkbox" type="checkbox" value="Theme6" id="flexCheckDefault">
                            <label class="form-check-label" for="flexCheckDefault">
                                Theme6
                            </label><br><input class="form-check-input ms-1 checkbox" type="checkbox" value="Theme7" id="flexCheckDefault">
                            <label class="form-check-label" for="flexCheckDefault">
                                Theme7
                            </label><br><input class="form-check-input ms-1 checkbox" type="checkbox" value="Theme8" id="flexCheckDefault">
                            <label class="form-check-label" for="flexCheckDefault">
                                Theme8
                            </label><br>
                        </div>
                    </div>
                </div>
                <div class="col-lg-1 col-md-3 col-sm-6  border-end border-start border-top country">
                    <div class="dropdown">
                        <a class="btn " href="#" role="button" id="dropdownMenuLink" data-bs-toggle="dropdown"
                           aria-haspopup="true" aria-expanded="false">
                            Skills &emsp;&ensp;<img src=".\..\images\Assets\drop-down.png">
                        </a>

                        <div class="dropdown-menu scrollable-menu" aria-labelledby="dropdownMenuLink">
                            </label>
                            <input class="form-check-input ms-1 checkbox" type="checkbox" value="Skill1" id="flexCheckDefault">
                            <label class="form-check-label " for="flexCheckDefault">
                                Skill1
                            </label><br><input class="form-check-input ms-1 ms-1 checkbox" type="checkbox" value="Skill2"
                                               id="flexCheckDefault">
                            <label class="form-check-label " for="flexCheckDefault">
                                Skill2
                            </label><br><input class="form-check-input ms-1 checkbox" type="checkbox" value="Skill3" id="flexCheckDefault">
                            <label class="form-check-label" for="flexCheckDefault">
                                Skill3
                            </label><br><input class="form-check-input ms-1 checkbox" type="checkbox" value="Skill4" id="flexCheckDefault">
                            <label class="form-check-label" for="flexCheckDefault">
                                Skill4
                            </label><br><input class="form-check-input ms-1 checkbox" type="checkbox" value="Skill5" id="flexCheckDefault">
                            <label class="form-check-label" for="flexCheckDefault">
                                Skill5
                            </label><br><input class="form-check-input ms-1 checkbox" type="checkbox" value="Skill6" id="flexCheckDefault">
                            <label class="form-check-label" for="flexCheckDefault">
                                Skill6
                            </label><br><input class="form-check-input ms-1 checkbox" type="checkbox" value="Skill7" id="flexCheckDefault">
                            <label class="form-check-label" for="flexCheckDefault">
                                Skill7
                            </label><br><input class="form-check-input ms-1 checkbox" type="checkbox" value="Skill8" id="flexCheckDefault">
                            <label class="form-check-label" for="flexCheckDefault">
                                Skill8
                            </label><br>
                        </div>
                    </div>
                </div>
                <div class="col-lg-2">
                </div>

                <hr>
            </div>
        </div>

        <div class="container">
            <div class="row" id="grid">
                <div class="col-lg-8 col-md-7 col-sm-6  mt-4">
                    <p class="explore">Explore <big>72 Mission</big> </p>
                </div>
                <div class="col-lg-2 col-md-3 col-sm-4 mt-4 d-none d-lg-block">

                    <a class=" dropdown" type="button" data-bs-toggle="dropdown"
                       style="border: 1px solid gray; color:black;text-decoration: none;width: 180px;">
                        Sort by &emsp;&ensp;<img src=".\..\images\Assets\drop-down.png">
                    </a>
                    <ul class="dropdown-menu">
                        <li><a class="dropdown-item" href="#">1</a></li>
                        <li><a class="dropdown-item" href="#">2</a></li>
                        <li><a class="dropdown-item" href="#">3</a></li>
                    </ul>

                </div>
                <div class="col-lg-1 col-md-2 col-sm-1 mt-3 text-end d-none d-lg-block">

                    &ensp;<a href="#" class="btn btn-grid">
                        <img src=".\..\images\Assets\grid.png" alt=""
                             style="padding: 7px;background-color: rgb(212, 212, 212);border-radius: 50%;">
                    </a>
                </div>
                <div class="col-lg-1 col-md-2 col-sm-1 mt-3 text-center d-none d-lg-block">
                    <a href="#" class="btn btn-list"><img src=".\..\images\Assets\list.png" alt=""></a>
                </div>

            </div>


            <div class="container grid-container">
                <div class="row">

                    @foreach (var item in Model)
                    {
                        if (item.MissionType == "Time")
                        {

                            <div class="col-12 col-md-6 col-lg-4">
                                <div class="card">
                                    <div class="position-relative">
                                        <img src=".\..\images\Assets\Grow-Trees-On-the-path-to-environment-sustainability.png"
                                     class="card-img-top image" alt="...">
                                        <button class="btn text" id="overlap">Environment</button>
                                        <div class="position-absolute location px-2 py-1">
                                            <img src=".\..\images\Assets\pin.png" alt="">
                                            @item.City.Name
                                        </div>
                                        <div class="position-absolute heart px-2 py-1">
                                            <img src=".\..\images\Assets\heart.png" alt="">
                                        </div>
                                        <div class="position-absolute doc px-2 py-1">
                                            <img src=".\..\images\Assets\user.png" alt="">
                                        </div>
                                        <!-- <p class="ps-1 pe-1" style="border-radius: 20px; background-color: white;">Environment
                                        </p> -->
                            </div>


                                    <div class="card-body">
                                        <h5 class="card-title">
                                            <p style="font-size: 25px;color: rgb(61, 61, 61);">
                                                @item.Title
                                            </p>
                                        </h5>
                                        <p>@item.Description </p>


                                        <div class="d-flex justify-content-between">
                                            <div>
                                                <p>@item.OrganizationName</p>
                                            </div>
                                            <div>
                                                <img src=".\..\images\Assets\selected-star.png" alt="">
                                                <img src=".\..\images\Assets\selected-star.png" alt="">
                                                <img src=".\..\images\Assets\selected-star.png" alt="">
                                                <img src=".\..\images\Assets\star.png" alt="">
                                                <img src=".\..\images\Assets\star.png" alt="">

                                            </div>
                                        </div>


                                        <div class="border-top mt-4">
                                            <div>
                                                <div class="d-flex justify-content-center mt-4">
                                                    <div class="star">
                                                        <p class="text-center" style="border: 1px solid gray;border-radius:20px;padding:0px 15px 0px 15px ;">
                                                            From
                                                            @item.StartDate.Value.ToShortDateString() until @item.EndDate.Value.ToShortDateString()
                                                        </p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="d-flex justify-content-between">
                                            <div class="d-flex">

                                                <div class="d-flex">
                                                    <div class="col-lg-3">
                                                        <img src=".\..\images\Assets\Seats-left.png" alt="">
                                                    </div>
                                                    <div class="col-lg-9">
                                                        <p>@item.Availability <br> Seats Left</p>
                                                    </div>
                                                </div>

                                            </div>
                                            <div class="deadline ">
                                                <div class="d-flex">
                                                    <div>
                                                        <img src=".\..\images\Assets\Deadline.png" alt="">
                                                    </div>
                                                    <div>
                                                        <p>@item.EndDate.Value.ToShortDateString() <br> Deadline</p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <hr>
                                        <div class="row text-center">
                                            <div class="col-lg-12">

                                                <button type="submit" class="btn" id="login" asp-controller="CI" asp-action="StoryListingPage"
                                                style="width: 30%;border-radius: 20px;border:2px solid #F88634;color: #F88634">
                                                    Apply
                                                    &ensp;<img src=".\..\images\Assets\right-arrow.png" alt="">
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        }
                        else if (item.MissionType == "Goal")
                        {
                            <div class="col-12 col-md-6 col-lg-4">
                                <div class="card">
                                    <div class="position-relative">
                                        <img src=".\..\images\Assets\Grow-Trees-On-the-path-to-environment-sustainability.png"
                                     class="card-img-top image" alt="...">
                                        <button class="btn text" id="overlap">Environment</button>
                                        <div class="position-absolute location px-2 py-1">
                                            <img src=".\..\images\Assets\pin.png" alt="">
                                            @item.City.Name
                                        </div>
                                        <div class="position-absolute heart px-2 py-1">
                                            <img src=".\..\images\Assets\heart.png" alt="">
                                        </div>
                                        <div class="position-absolute doc px-2 py-1">
                                            <img src=".\..\images\Assets\user.png" alt="">
                                        </div>
                                        <!-- <p class="ps-1 pe-1" style="border-radius: 20px; background-color: white;">Environment
                                        </p> -->
                            </div>


                                    <div class="card-body">
                                        <h5 class="card-title">
                                            <p style="font-size: 25px;color: rgb(61, 61, 61);">
                                                @item.Title
                                            </p>
                                        </h5>
                                        <p>@item.Description </p>


                                        <div class="d-flex justify-content-between">
                                            <div>
                                                <p>@item.OrganizationName</p>
                                            </div>
                                            <div>
                                                <img src=".\..\images\Assets\selected-star.png" alt="">
                                                <img src=".\..\images\Assets\selected-star.png" alt="">
                                                <img src=".\..\images\Assets\selected-star.png" alt="">
                                                <img src=".\..\images\Assets\star.png" alt="">
                                                <img src=".\..\images\Assets\star.png" alt="">

                                            </div>
                                        </div>


                                        <div class="border-top mt-4">
                                            <div>
                                                <div class="d-flex justify-content-center mt-4">
                                                    <div class="star">
                                                        <p class="text-center" style="border: 1px solid gray;border-radius:20px;padding:0px 15px 0px 15px ;">
                                                            From
                                                            @item.StartDate.Value.ToShortDateString() until @item.EndDate.Value.ToShortDateString()
                                                        </p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-7">
                                            <div class="d-flex">

                                                <div class="col-lg-2">
                                                    <img src=".\..\images\Assets\Achieved.png" alt="">
                                                </div>
                                                <div class="col-lg-10">
                                                    <div class="progress">
                                                        <div class="progress-bar" role="progressbar"
                                                     style="width: 75%;background-color: #F88634;" aria-valuenow="75"
                                                     aria-valuemin="0" aria-valuemax="100"></div>
                                                    </div> <br> 8000 Achieved
                                                </div>
                                            </div>
                                        </div>

                                        <hr>
                                        <div class="row text-center">
                                            <div class="col-lg-12">

                                                <button type="submit" class="btn" id="login" asp-controller="CI" asp-action="StoryListingPage"
                                                style="width: 30%;border-radius: 20px;border:2px solid #F88634;color: #F88634">
                                                    Apply
                                                    &ensp;<img src=".\..\images\Assets\right-arrow.png" alt="">
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        }

                    }
                </div>
            </div>




        </div>


    </form>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
            integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
            crossorigin="anonymous"></script>
    <script src="~/js/platform.js"></script>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
            integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
            crossorigin="anonymous"></script>
    <script src="~/js/landingPage.js"></script>

    <script>
       window.addEventListener("load", () => {
      // (A) GET HTML ELEMENTS
      var filter = document.getElementById("search-field"), // search box
          list = document.querySelectorAll(".card"); // all cards
 
      // (B) ATTACH KEY UP LISTENER TO SEARCH BOX
      filter.onkeyup = () => {
        // (B1) GET CURRENT SEARCH TERM
        let search = filter.value.toLowerCase();
 
        // (B2) LOOP THROUGH LIST ITEMS - ONLY SHOW THOSE THAT MATCH SEARCH
        for (let i of list ){
            let a = i.getElementsByClassName("card-body")[0]
            console.log(a)
          let item = a.innerHTML.toLowerCase();
          if (item.indexOf(search) == -1) { i.hidden = true; }
          else { i.hidden = false; }
    }
  };
});
</script>


</body>

</html>